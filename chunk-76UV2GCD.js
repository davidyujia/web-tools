import{A as X,B as q,L as Z,M as U,N as Y,O as T,P as $,Q,R as tt,a as G,ca as et,da as at,ea as it,fa as nt,g as B,ga as rt,h as P,i as L,ia as ot,t as z,v as R,w as H,x as K,y as W,z as J}from"./chunk-RB4ZBH4G.js";import{Cb as r,Db as o,Eb as y,Fb as C,Hb as l,Ib as u,Jb as O,Kb as N,Lb as S,Tb as d,Wb as w,Xb as D,Ya as c,Yb as k,Z as A,_ as h,aa as _,da as p,ib as b,ja as g,jb as x,ka as f,kb as v,mb as M,tb as m,ua as V,va as j,vb as E}from"./chunk-QIVQBC3L.js";var ft=["*"];var vt=new _("MAT_CARD_CONFIG"),dt=(()=>{class e{appearance;constructor(){let t=p(vt,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=b({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(a,i){a&2&&E("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ft,decls:1,vars:0,template:function(a,i){a&1&&(O(),N(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return e})(),mt=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275dir=v({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var st=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275dir=v({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var lt=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=x({type:e});static \u0275inj=h({imports:[T,T]})}return e})();var I=class{_document;_textarea;constructor(n,t){this._document=t;let a=this._textarea=this._document.createElement("textarea"),i=a.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",a.setAttribute("aria-hidden","true"),a.value=n,a.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(a)}copy(){let n=this._textarea,t=!1;try{if(n){let a=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),t=this._document.execCommand("copy"),a&&a.focus()}}catch{}return t}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},Ct=(()=>{class e{_document=p(G);constructor(){}copy(t){let a=this.beginCopy(t),i=a.copy();return a.destroy(),i}beginCopy(t){return new I(t,this._document)}static \u0275fac=function(a){return new(a||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ht=new _("CDK_COPY_TO_CLIPBOARD_CONFIG"),ut=(()=>{class e{_clipboard=p(Ct);_ngZone=p(j);text="";attempts=1;copied=new V;_pending=new Set;_destroyed;_currentTimeout;constructor(){let t=p(ht,{optional:!0});t&&t.attempts!=null&&(this.attempts=t.attempts)}copy(t=this.attempts){if(t>1){let a=t,i=this._clipboard.beginCopy(this.text);this._pending.add(i);let s=()=>{let F=i.copy();!F&&--a&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1)):(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(F))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(a){return new(a||e)};static \u0275dir=v({type:e,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(a,i){a&1&&l("click",function(){return i.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return e})(),pt=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=x({type:e});static \u0275inj=h({})}return e})();function bt(e,n){if(e&1){let t=C();r(0,"div",5)(1,"mat-form-field",6)(2,"mat-label"),d(3,"Key"),o(),r(4,"input",7),k("ngModelChange",function(i){let s=g(t).$implicit;return D(s.key,i)||(s.key=i),f(i)}),o()(),r(5,"mat-form-field",6)(6,"mat-label"),d(7,"Value"),o(),r(8,"input",7),k("ngModelChange",function(i){let s=g(t).$implicit;return D(s.value,i)||(s.value=i),f(i)}),o()(),r(9,"button",8),l("click",function(){let i=g(t).index,s=u();return f(s.removeKeyValue(i))}),r(10,"mat-icon"),d(11,"remove_circle"),o()()()}if(e&2){let t=n.$implicit,a=n.index,i=u();c(4),S("name","key",a,""),w("ngModel",t.key),c(4),S("name","value",a,""),w("ngModel",t.value),c(),m("disabled",i.keyValues.length===1)}}function xt(e,n){if(e&1){let t=C();r(0,"div",9)(1,"mat-label"),d(2,"\u7522\u751F\u7684\u9023\u7DDA\u5B57\u4E32\uFF1A"),o(),r(3,"mat-form-field",10),y(4,"input",11),r(5,"button",12),l("click",function(){g(t);let i=u();return f(i.copyToClipboard())}),r(6,"mat-icon"),d(7,"content_copy"),o()()()()}if(e&2){let t=u();c(4),m("value",t.connectionString),c(),m("cdkCopyToClipboard",t.connectionString)}}function Mt(e,n){if(e&1){let t=C();r(0,"div",9)(1,"mat-label"),d(2,"JSON \u683C\u5F0F\uFF1A"),o(),r(3,"mat-form-field",10),y(4,"textarea",13),r(5,"button",12),l("click",function(){g(t);let i=u();return f(i.copyToClipboard())}),r(6,"mat-icon"),d(7,"content_copy"),o()()()()}if(e&2){let t=u();c(4),m("value",t.jsonString),c(),m("cdkCopyToClipboard",t.jsonString)}}function St(e,n){if(e&1){let t=C();r(0,"div",9)(1,"mat-label"),d(2,"ConnectingStrings JSON\uFF1A"),o(),r(3,"mat-form-field",10),y(4,"textarea",13),r(5,"button",12),l("click",function(){g(t);let i=u();return f(i.copyToClipboard())}),r(6,"mat-icon"),d(7,"content_copy"),o()()()()}if(e&2){let t=u();c(4),m("value",t.jsonConnectionString),c(),m("cdkCopyToClipboard",t.jsonConnectionString)}}var gt=class e{dbType="mssql";host="";port=null;database="";username="";password="";connectionString="";jsonString="";jsonConnectionString="";keyValues=[{key:"Server",value:""},{key:"Database",value:""},{key:"User Id",value:""},{key:"Password",value:""}];addKeyValue(){this.keyValues.push({key:"",value:""})}removeKeyValue(n){this.keyValues.length>1&&this.keyValues.splice(n,1)}escapeValue(n){return n==null?"":/[;=\s'"\\]/.test(n)?'"'+n.replace(/"/g,'""')+'"':n}generateConnectionString(){this.connectionString=this.keyValues.filter(t=>t.key.trim()!=="").map(t=>`${t.key}=${this.escapeValue(t.value)}`).join(";")+";";let n={};this.keyValues.filter(t=>t.key.trim()!=="").forEach(t=>{n[t.key]=t.value}),this.jsonString=JSON.stringify(n,null,2),this.jsonConnectionString=JSON.stringify({ConnectingStrings:{Default:this.connectionString}},null,2)}copyToClipboard(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-connection-string-generator"]],decls:16,vars:4,consts:[[1,"connection-string-form",3,"ngSubmit"],["class","key-value-row",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"],["class","result",4,"ngIf"],[1,"key-value-row"],["appearance","outline"],["matInput","","required","",3,"ngModelChange","ngModel","name"],["mat-icon-button","","color","warn","type","button",3,"click","disabled"],[1,"result"],["appearance","fill",1,"connection-string-output"],["matInput","","readonly","",3,"value"],["mat-icon-button","","matSuffix","",3,"click","cdkCopyToClipboard"],["matInput","","readonly","","rows","6",3,"value"]],template:function(t,a){t&1&&(r(0,"H1"),d(1,"Connection String Generator"),o(),r(2,"mat-card"),y(3,"mat-card-title"),r(4,"mat-card-content")(5,"form",0),l("ngSubmit",function(){return a.generateConnectionString()}),M(6,bt,12,7,"div",1),r(7,"button",2),l("click",function(){return a.addKeyValue()}),r(8,"mat-icon"),d(9,"add"),o(),d(10," \u65B0\u589E\u6B04\u4F4D "),o(),r(11,"button",3),d(12,"\u7522\u751F\u9023\u7DDA\u5B57\u4E32"),o()(),M(13,xt,8,2,"div",4)(14,Mt,8,2,"div",4)(15,St,8,2,"div",4),o()()),t&2&&(c(6),m("ngForOf",a.keyValues),c(7),m("ngIf",a.connectionString),c(),m("ngIf",a.jsonString),c(),m("ngIf",a.jsonConnectionString))},dependencies:[q,J,z,R,H,X,W,K,lt,dt,st,mt,$,Y,Z,U,tt,Q,ot,rt,nt,et,it,at,L,B,P,pt,ut],styles:[".connection-string-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;max-width:700px}.key-value-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.key-value-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 200px}.result[_ngcontent-%COMP%]{margin-top:24px}.connection-string-output[_ngcontent-%COMP%]{width:100%}"]})};export{gt as ConnectionStringGeneratorComponent};
